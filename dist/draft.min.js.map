{"version":3,"sources":["draft.min.js","size.js","element.js"],"names":["global","factory","define","amd","exports","mod","draftMin","this","_possibleConstructorReturn","self","call","ReferenceError","_typeof","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","obj","Symbol","_classCallCheck","instance","Constructor","zeroPad","number","length","str","elementType","element","e","Draft","toLowerCase","elementID","doc","elements","prop","unit","val","_createClass","defineProperties","target","props","i","descriptor","defineProperty","key","protoProps","staticProps","undefined","mixins","domID","px","num","parseFloat","units","slice","endsWith","inherit","destination","source","addSuper","proto","_super","mixin","hasOwnProperty","object","defaults","system","cartesian","layer","vars","web","pos","height","polar","Math","sqrt","pow","atan2","origin","x","y","cos","PI","sin","spherical","_system","_units","size","width","_width","_height","_x","apply","arguments","toString","move","radius","rx","_rx","ry","_ry","transform","k","transforms","require","translate","scale","cx","cy","rotate","a","skew","ax","ay","json","stringify","replacer","JSON","Element","dom","node","document","createElement","properties","_prop","p","setter","String","isFinite","parent","event","CustomEvent","detail","type","bubbles","dispatchEvent","Array","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","err","Container","_Draft$Element","name","_this","getPrototypeOf","children","child","appendChild","push","Doc","_Draft$Container","_this2","Group","_Draft$Container2","group","add","Page","_Draft$Group","origin.x","origin.y","page","Line","_Draft$Element2","line","x1","y1","x2","y2","Rect","_Draft$Element3","get","floor","random","rect","Circle","_Draft$Element4","r","circle"],"mappings":"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","file":"draft.min.js","sourcesContent":["'use strict';\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory();\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory();\n    global.draftMin = mod.exports;\n  }\n})(this, function () {\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && ((typeof call === 'undefined' ? 'undefined' : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === 'undefined' ? 'undefined' : _typeof(superClass)));\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  function _typeof(obj) {\n    return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = (function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  })();\n\n  var Draft = undefined.Draft = {\n    mixins: {},\n    domID: function domID(element) {\n      return 'DraftJS_' + element.prop('type') + '_' + zeroPad(element.prop('id'), 4);\n    },\n    px: function px(length) {\n      var num = parseFloat(length, 10);\n      var units = typeof length == 'string' ? length.slice(-2) : 'px';\n\n      if (units == 'px') {\n        return num;\n      } else if (units == 'pt') {\n        return Draft.px(num / 72 + 'in');\n      } else if (units == 'pc') {\n        return Draft.px(num * 12 + 'pt');\n      } else if (units == 'in') {\n        return num * 96;\n      } else if (units == 'ft') {\n        return Draft.px(num * 12 + 'in');\n      } else if (units == 'yd') {\n        return Draft.px(num * 3 + 'ft');\n      } else if (units == 'mi') {\n        return Draft.px(num * 1760 + 'yd');\n      } else if (units.endsWith('m')) {\n        if (units == 'mm') {\n          num *= 1;\n        } else if (units == 'cm') {\n          num *= 10;\n        } else if (units == 'km') {\n          num *= 1000000;\n        }\n\n        return Draft.px(num / 25.4 + 'in');\n      } else {\n        return false;\n      }\n    }\n  };\n\n  Draft.inherit = function (destination, source, addSuper) {\n    var proto = destination.prototype = Object.create(source.prototype);\n    proto.constructor = destination;\n\n    if (addSuper || typeof addSuper === 'undefined') {\n      destination._super = source.prototype;\n    }\n  };\n\n  Draft.mixin = function (destination, source) {\n    var hasOwnProperty = function hasOwnProperty(object, key) {\n      return Object.prototype.hasOwnProperty.call(object, key);\n    };\n\n    for (var key in source) {\n      if (hasOwnProperty(source, key)) {\n        destination.prototype[key] = source[key];\n      }\n    }\n  };\n\n  var defaults = {\n    system: 'cartesian',\n    units: 'px',\n    cartesian: {\n      layer: 1,\n      vars: ['x', 'y', 'z'],\n      web: [function (pos) {\n        return pos[0];\n      }, function (pos) {\n        return height - pos[1];\n      }, function (pos) {\n        return pos[2];\n      }, function (pos) {\n        return [pos[0], height - pos[1], pos[2]];\n      }],\n      polar: [function (pos) {\n        return Math.sqrt(Math.pow(pos[0], 2) + Math.pow(pos[1], 2));\n      }, function (pos) {\n        return Math.atan2(pos[1], pos[0]);\n      }, function (pos) {\n        return pos[2];\n      }, function (pos) {\n        return [Math.sqrt(Math.pow(pos[0], 2) + Math.pow(pos[1], 2)), Math.atan2(pos[1], pos[0]), pos[2]];\n      }],\n      origin: {\n        x: 0,\n        y: 'height'\n      }\n    },\n    polar: {\n      layer: 2,\n      vars: ['rho', 'phi', 'z'],\n      cartesian: [function (pos) {\n        return pos[0] * Math.cos(pos[1] * (Math.PI / 180));\n      }, function (pos) {\n        return pos[0] * Math.sin(pos[1] * (Math.PI / 180));\n      }, function (pos) {\n        return pos[2];\n      }],\n      origin: {\n        x: 'width/2',\n        y: 'height/2'\n      }\n    },\n    spherical: {\n      layer: 2,\n      vars: ['rho', 'phi', 'theta']\n    }\n  };\n\n  function zeroPad(number, length) {\n    var str = '' + number;\n\n    while (str.length < length) {\n      str = '0' + str;\n    }\n\n    return str;\n  }\n\n  function elementType(element) {\n    for (var e in Draft) {\n      if (element.constructor == Draft[e]) {\n        return e.toLowerCase();\n      }\n    }\n  }\n\n  function elementID(element) {\n    return element.doc.elements[element.prop('type')].length;\n  }\n\n  function unit(val) {\n    return val == null ? val : val + '_u';\n  }\n\n  Draft.mixins.system = {\n    system: function system(_system) {\n      return this.prop('system', _system);\n    }\n  };\n  Draft.mixins.units = {\n    units: function units(_units) {\n      return this.prop('units', _units);\n    }\n  };\n  Draft.mixins.size = {\n    width: function width(_width) {\n      return this.prop('width', unit(_width));\n    },\n    height: (function (_height) {\n      function height(_x) {\n        return _height.apply(this, arguments);\n      }\n\n      height.toString = function () {\n        return _height.toString();\n      };\n\n      return height;\n    })(function (height) {\n      return this.prop('height', unit(height));\n    }),\n    size: function size(width, height) {\n      return this.prop({\n        width: unit(width),\n        height: unit(height)\n      });\n    }\n  };\n  Draft.mixins.move = {\n    move: function move() {\n      var pos = {};\n\n      for (var i = 0; i < arguments.length; i++) {\n        pos[defaults[this.prop('system')].vars[i]] = unit(arguments[i]);\n      }\n\n      return this.prop(pos);\n    }\n  };\n  Draft.mixins.radius = {\n    rx: function rx(_rx) {\n      return this.prop('rx', unit(_rx));\n    },\n    ry: function ry(_ry) {\n      return this.prop('ry', unit(_ry));\n    },\n    radius: function radius(rx, ry) {\n      return this.prop({\n        rx: unit(rx),\n        ry: unit(ry)\n      });\n    }\n  };\n  Draft.mixins.transform = {\n    transform: function transform(obj) {\n      for (var k in obj) {\n        obj[k] = obj[k] == null ? obj[k] : this.prop(k) + obj[k];\n      }\n\n      return this.prop(obj);\n    }\n  };\n  Draft.mixins.transforms = {\n    require: ['transform'],\n    translate: function translate(x, y) {\n      return this.transform({\n        x: x,\n        y: y\n      });\n    },\n    scale: function scale(x, y, cx, cy) {},\n    rotate: function rotate(a, cx, cy) {},\n    skew: function skew(ax, ay, cx, cy) {}\n  };\n  Draft.mixins.json = {\n    stringify: function stringify(replacer) {\n      return JSON.stringify(this, replacer, 2);\n    }\n  };\n\n  Draft.Element = (function () {\n    function Element() {\n      _classCallCheck(this, Element);\n\n      this.dom = {};\n      this.dom.node = document.createElement('object');\n      this.dom.node.element = this;\n      this.properties = {};\n      this.prop('type', elementType(this));\n    }\n\n    _createClass(Element, [{\n      key: 'prop',\n      value: function prop(_prop, val) {\n        if (_prop == null) {\n          _prop = {};\n\n          for (var p in this.properties) {\n            _prop[p] = this.properties[p];\n          }\n\n          return _prop;\n        } else if ((typeof _prop === 'undefined' ? 'undefined' : _typeof(_prop)) == 'object') {\n          var setter = false;\n\n          for (var p in _prop) {\n            _prop[p] = this.prop(p, _prop[p]);\n            setter |= _typeof(_prop[p]) == 'object';\n          }\n\n          return setter ? this : _prop;\n        } else if (val === null) {\n          delete this.properties[_prop];\n        } else if (val === undefined) {\n          return this.properties[_prop] || this.prop(_prop, defaults[_prop] || 0);\n        } else {\n          if (String(val).endsWith('_u')) {\n            val = val.slice(0, -2);\n            val = isFinite(val) ? val + this.parent.prop('units') || defaults.units : val;\n          }\n\n          this.properties[_prop] = val;\n          var event = new CustomEvent('update', {\n            detail: {\n              type: this.properties.type,\n              prop: _prop,\n              val: val\n            },\n            bubbles: true\n          });\n          this.dom.node.dispatchEvent(event);\n        }\n\n        return this;\n      }\n    }], [{\n      key: 'inherit',\n      value: function inherit(source, addSuper) {\n        Draft.inherit(this, source, addSuper);\n      }\n    }, {\n      key: 'mixin',\n      value: function mixin(source) {\n        Draft.mixin(this, source);\n      }\n    }, {\n      key: 'require',\n      value: function require(source) {\n        if (typeof source == 'string') {\n          this.mixin(Draft.mixins[source]);\n        } else if (source instanceof Array) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = source[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var mixin = _step.value;\n\n              this.require(mixin);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        }\n      }\n    }]);\n\n    return Element;\n  })();\n\n  Draft.Element.require(['size', 'move']);\n\n  Draft.Container = (function (_Draft$Element) {\n    _inherits(Container, _Draft$Element);\n\n    function Container(name) {\n      _classCallCheck(this, Container);\n\n      var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Container).call(this));\n\n      _this.prop('name', name || null);\n\n      _this.children = [];\n      return _this;\n    }\n\n    _createClass(Container, [{\n      key: 'push',\n      value: function push(child) {\n        child.parent = this;\n        child.doc = this.doc || this;\n        this.dom.node.appendChild(child.dom.node);\n        var type = child.prop('type');\n        child.doc.elements[type] = child.doc.elements[type] || [];\n        child.doc.elements[type].push(child);\n        child.prop('id', elementID(child));\n        this.children.push(child);\n        return this;\n      }\n    }, {\n      key: 'add',\n      value: function add(child) {\n        this.push(child);\n        return child;\n      }\n    }]);\n\n    return Container;\n  })(Draft.Element);\n\n  Draft.Doc = (function (_Draft$Container) {\n    _inherits(Doc, _Draft$Container);\n\n    function Doc(name) {\n      _classCallCheck(this, Doc);\n\n      var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(Doc).call(this, name));\n\n      _this2.elements = {};\n\n      _this2.prop({\n        system: defaults.system,\n        units: defaults.units\n      });\n\n      return _this2;\n    }\n\n    return Doc;\n  })(Draft.Container);\n\n  Draft.doc = function (name) {\n    return new Draft.Doc(name);\n  };\n\n  Draft.Group = (function (_Draft$Container2) {\n    _inherits(Group, _Draft$Container2);\n\n    function Group() {\n      _classCallCheck(this, Group);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(Group).apply(this, arguments));\n    }\n\n    return Group;\n  })(Draft.Container);\n\n  Draft.Group.require(['system', 'units']);\n\n  Draft.Container.mixin({\n    group: function group() {\n      return this.add(new Draft.Group(name)).prop({\n        system: this.prop('system'),\n        units: this.prop('units')\n      });\n    }\n  });\n\n  Draft.Page = (function (_Draft$Group) {\n    _inherits(Page, _Draft$Group);\n\n    function Page() {\n      _classCallCheck(this, Page);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(Page).apply(this, arguments));\n    }\n\n    _createClass(Page, [{\n      key: 'origin',\n      value: function origin(x, y) {\n        return this.prop({\n          'origin.x': Draft.px(x),\n          'origin.y': Draft.px(y)\n        });\n      }\n    }]);\n\n    return Page;\n  })(Draft.Group);\n\n  Draft.Doc.mixin({\n    page: function page(name) {\n      return this.add(new Draft.Page(name)).prop({\n        system: this.prop('system'),\n        units: this.prop('units')\n      });\n    }\n  });\n\n  Draft.Line = (function (_Draft$Element2) {\n    _inherits(Line, _Draft$Element2);\n\n    function Line() {\n      _classCallCheck(this, Line);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(Line).apply(this, arguments));\n    }\n\n    return Line;\n  })(Draft.Element);\n\n  Draft.Container.mixin({\n    line: function line(x1, y1, x2, y2) {\n      return this.add(new Draft.Line());\n    }\n  });\n\n  Draft.Rect = (function (_Draft$Element3) {\n    _inherits(Rect, _Draft$Element3);\n\n    function Rect() {\n      _classCallCheck(this, Rect);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(Rect).apply(this, arguments));\n    }\n\n    _createClass(Rect, [{\n      key: 'rekt',\n      get: function get() {\n        return Math.floor(Math.random() * 101) + '% rekt';\n      }\n    }]);\n\n    return Rect;\n  })(Draft.Element);\n\n  Draft.Rect.require('radius');\n\n  Draft.Container.mixin({\n    rect: function rect(width, height) {\n      return this.add(new Draft.Rect()).size(width, height);\n    }\n  });\n\n  Draft.Circle = (function (_Draft$Element4) {\n    _inherits(Circle, _Draft$Element4);\n\n    function Circle() {\n      _classCallCheck(this, Circle);\n\n      return _possibleConstructorReturn(this, Object.getPrototypeOf(Circle).apply(this, arguments));\n    }\n\n    _createClass(Circle, [{\n      key: 'radius',\n      value: function radius(r) {\n        return this.prop('r', unit(r));\n      }\n    }]);\n\n    return Circle;\n  })(Draft.Element);\n\n  Draft.Container.mixin({\n    circle: function circle(r) {\n      return this.add(new Draft.Circle()).radius(r);\n    }\n  });\n});","Draft.mixins.size = {\n  // Get/set the element's width\n  width: function(width) {\n    return this.prop('width', unit(width));\n  },\n  // Get/set the element's height\n  height: function(height) {\n    return this.prop('height', unit(height));\n  },\n  // Get/set the element's width & height\n  size: function(width, height) {\n    return this.prop({\n      width: unit(width),\n      height: unit(height)\n    });\n  }\n};\n","// Draft.Element =\nDraft.Element = class Element {\n  constructor() {\n    // DOING:10 create DOM node\n    this.dom = {};\n    this.dom.node = document.createElement('object');\n    // Store a circular reference in the node\n    this.dom.node.element = this;\n\n    // Make sure this.properties is initialized\n    this.properties = {};\n    this.prop('type', elementType(this));\n  }\n\n  static inherit(source, addSuper) {\n    Draft.inherit(this, source, addSuper);\n  }\n\n  static mixin(source) {\n    Draft.mixin(this, source);\n  }\n\n  // TODO:40 merge require() with mixin()?\n  static require(source) {\n    if (typeof source == 'string') {\n      this.mixin(Draft.mixins[source]);\n    } else if (source instanceof Array) {\n      for (var mixin of source) {\n        this.require(mixin);\n      }\n    }\n  }\n\n  // TODO:70 rename properties to _properties?\n  prop(prop, val) {\n    // Act as a full properties getter if prop is null/undefined\n    if (prop == null) {\n      prop = {};\n\n      for (let p in this.properties) {\n        prop[p] = this.properties[p];\n      }\n\n      return prop;\n    }\n    // Act as a getter if prop is an object with only null values.\n    // Act as a setter if prop is an object with at least one non-null value.\n    else if (typeof prop == 'object') {\n      let setter = false;\n\n      for (let p in prop) {\n        // Get this.properties[p] and save it to prop[p]\n        prop[p] = this.prop(p, prop[p]);\n        // If the returned value is an object, prop[p] is non-null, so act like\n        // a setter.\n        setter |= typeof prop[p] == 'object';\n      }\n\n      return setter ? this : prop;\n    }\n    // Delete the property if val is null\n    else if (val === null) {\n      delete this.properties[prop];\n    }\n    // Act as an individual property getter if val is undefined\n    else if (val === undefined) {\n      /*val = this.properties[prop];\n      return val === undefined ? defaults[prop] || 0 : val;*/\n\n      // If prop is undefined, set it to the default OR 0\n      return this.properties[prop] ||\n        this.prop(prop, defaults[prop] || 0);\n    }\n    // Act as an individual property setter if both prop and val are defined\n    else {\n      // HACK:10 should use an actual unit data type, not just strings\n      if (String(val).endsWith('_u')) {\n        val = val.slice(0, -2);\n        val = isFinite(val) ?\n          val + this.parent.prop('units') || defaults.units : val;\n      }\n\n      this.properties[prop] = val;\n\n      var event = new CustomEvent('update', {\n        detail: {\n          type: this.properties.type,\n          prop: prop,\n          val: val\n        },\n        bubbles: true\n      });\n\n      this.dom.node.dispatchEvent(event);\n    }\n\n    // prop() is chainable if 'this' is returned\n    return this;\n  }\n};\n\n// TODO:0 remove these dependencies from Draft.Element\nDraft.Element.require([\n  'size',\n  'move'\n]);\n"],"sourceRoot":"/source/"}