"use strict";!function(t,e){if("function"==typeof define&&define.amd)define([],e);else if("undefined"!=typeof exports)e();else{var n={exports:{}};e(),t.draftMin=n.exports}}(this,function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":n(e))&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":n(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":"undefined"==typeof t?"undefined":n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}function o(t){return t instanceof c?t:o(t.parent)}function u(t){for(var e in c)if(t.constructor==c[e])return e.toLowerCase()}function s(t){return o(t).elements[u(t)].length}function p(t){if(t.dom&&t.dom.treeView){var e=new CustomEvent("update",{detail:{element:t}});t.dom.treeView.dispatchEvent(e)}t.parent&&p(t.parent)}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a={},c=(void 0).Draft=function(){function t(e){r(this,t),this.elements={},this.children=[],e&&(this.dom="string"==typeof e?document.getElementById(e):e)}return f(t,[{key:"push",value:function(t,e){e.parent=t,t.children.push(e);var n=u(e);return this.elements[n]=this.elements[n]||[],this.elements[n].push(e),e.prop({type:n,id:s(e)}),e}},{key:"units",value:function(){return h.units}}],[{key:"extend",value:function(e,r){if("string"==typeof r)t.extend(e,a[r]);else if("object"===("undefined"==typeof r?"undefined":n(r)))for(var i in r)"function"==typeof r[i]?e.prototype[i]=r[i]:t.extend(e,r[i]);return r}},{key:"domID",value:function(t){return"DraftJS_"+t.properties.type+"_"+i(t.properties.id,4)}},{key:"px",value:function(e){var n=parseFloat(e,10),r="string"==typeof e?e.slice(-2):"px";return"px"==r?n:"pt"==r?t.px(n/72+"in"):"pc"==r?t.px(12*n+"pt"):"in"==r?96*n:"ft"==r?t.px(12*n+"in"):"yd"==r?t.px(3*n+"ft"):"mi"==r?t.px(1760*n+"yd"):r.endsWith("m")?("mm"==r?n*=1:"cm"==r?n*=10:"km"==r&&(n*=1e6),t.px(n/25.4+"in")):void 0}}]),t}(),h={system:"cartesian",units:"px",cartesian:{layer:1,vars:["x","y","z"],web:[function(t){return t[0]},function(t){return height-t[1]},function(t){return t[2]},function(t){return[t[0],height-t[1],t[2]]}],polar:[function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},function(t){return Math.atan2(t[1],t[0])},function(t){return t[2]},function(t){return[Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),Math.atan2(t[1],t[0]),t[2]]}],origin:{x:0,y:"height"}},polar:{layer:2,vars:["rho","phi","z"],cartesian:[function(t){return t[0]*Math.cos(t[1]*(Math.PI/180))},function(t){return t[0]*Math.sin(t[1]*(Math.PI/180))},function(t){return t[2]}],origin:{x:"width/2",y:"height/2"}},spherical:{layer:2,vars:["rho","phi","theta"]}};a.json={stringify:function(t){return JSON.stringify(this,t,2)}},a.system={system:function(t){return this.prop("system",t)}},a.units={units:function(t){return this.prop("units",t)}},a.size={width:function(t){return this.prop("width",t)},height:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return this.prop("height",t)}),size:function(t,e){return this.prop({width:t,height:e})}},a.move={move:function(){for(var t={},e=0;e<arguments.length;e++)t[h[this.prop("system")].vars[e]]=arguments[e];return this.prop(t)}},a.radius={rx:function(t){return this.prop("rx",t)},ry:function(t){return this.prop("ry",t)},radius:function(t,e){return this.prop({rx:t,ry:e})}},a.transform={transform:function(t){for(var e in t)t[e]=null==t[e]?t[e]:this.prop(e)+t[e];return this.prop(t)}},a.transforms={require:["transform"],translate:function(t,e){return this.transform({x:t,y:e})},scale:function(t,e,n,r){},rotate:function(t,e,n){},skew:function(t,e,n,r){}},c.Element=function(){function t(e){r(this,t),this.properties={},this.dom={},this.prop({name:e||null})}return f(t,[{key:"prop",value:function(t,e){if(null==t){t={};for(var r in this.properties)t[r]=this.properties[r];return t}if("object"===("undefined"==typeof t?"undefined":n(t))){var i=!1;for(var r in t)t[r]=this.prop(r,t[r]),i|="object"===n(t[r]);return i?this:t}if(null===e)delete this.properties[t];else{if(void 0===e)return this.properties[t]||this.prop(t,h[t]||0);var o=new CustomEvent("update",{detail:{type:this.properties.type,prop:t,val:e},bubbles:!0});for(var u in this.dom)this.dom[u].dispatchEvent(o);this.properties[t]="id"!==t&&isFinite(e)?e+this.parent.units()||h.units:e}return p(this),this}},{key:"parent",value:function(){return this.parent}}],[{key:"extend",value:function(t){return c.extend(this,t)}}]),t}(),c.Element.extend(["size","move"]),c.Container=function(n){function i(){r(this,i);var e=t(this,Object.getPrototypeOf(i).call(this));return e.children=[],e}return e(i,n),f(i,[{key:"child",value:function(t){return this.children[t]}},{key:"add",value:function(t){return o(this).push(this,t)}}]),i}(c.Element),c.Group=function(n){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return e(i,n),i}(c.Container),c.Group.extend(["system","units"]),c.Container.extend({group:function(t){return this.add(new c.Group(t)).prop({system:this.system(),units:this.units()})}}),c.Page=function(n){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return e(i,n),f(i,[{key:"origin",value:function(t,e){return this.prop({"origin.x":t,"origin.y":e})}}]),i}(c.Group),c.extend(c,{page:function(t){return this.push(this,new c.Page(t)).prop({system:h.system,units:h.units})}}),c.Line=function(n){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return e(i,n),i}(c.Element),c.Container.extend({line:function(t,e,n,r){return this.add(new c.Line)}}),c.Rect=function(n){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return e(i,n),f(i,[{key:"rekt",get:function(){return Math.floor(101*Math.random())+"% rekt"}}]),i}(c.Element),c.Rect.extend(["radius"]),c.Container.extend({rect:function(t,e){return this.add(new c.Rect).size(t,e)}}),c.Circle=function(n){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return e(i,n),f(i,[{key:"radius",value:function(t){return this.prop("r",t)}}]),i}(c.Element),c.Container.extend({circle:function(t){return this.add(new c.Circle).radius(t)}})});
//# sourceMappingURL=draft.min.js.map
