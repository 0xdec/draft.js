"use strict";!function(t,n){if("function"==typeof define&&define.amd)define([],n);else if("undefined"!=typeof exports)n();else{var e={exports:{}};n(),t.draftMin=e.exports}}(this,function(){function t(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==("undefined"==typeof n?"undefined":e(n))&&"function"!=typeof n?t:n}function n(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof n?"undefined":e(n)));t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function e(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":"undefined"==typeof t?"undefined":e(t)}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){for(var e=""+t;e.length<n;)e="0"+e;return e}function o(t){for(var n in a)if(t.constructor==a[n])return n.toLowerCase()}function u(t){return t.doc.elements[t.prop("type")].length}function s(t){return null==t?t:t+"_u"}var p=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=(void 0).Draft={mixins:{},inherit:function(t,n,e){var r=t.prototype=Object.create(n.prototype);r.constructor=t,(e||"undefined"==typeof e)&&(t._super=n.prototype)},mixin:function(t,n){var e=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)};for(var r in n)e(n,r)&&(t.prototype[r]=n[r])},domID:function(t){return"DraftJS_"+t.prop("type")+"_"+i(t.prop("id"),4)},px:function(t){var n=parseFloat(t,10),e="string"==typeof t?t.slice(-2):"px";return"px"==e?n:"pt"==e?a.px(n/72+"in"):"pc"==e?a.px(12*n+"pt"):"in"==e?96*n:"ft"==e?a.px(12*n+"in"):"yd"==e?a.px(3*n+"ft"):"mi"==e?a.px(1760*n+"yd"):e.endsWith("m")?("mm"==e?n*=1:"cm"==e?n*=10:"km"==e&&(n*=1e6),a.px(n/25.4+"in")):!1}},f={system:"cartesian",units:"px",cartesian:{layer:1,vars:["x","y","z"],web:[function(t){return t[0]},function(t){return height-t[1]},function(t){return t[2]},function(t){return[t[0],height-t[1],t[2]]}],polar:[function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},function(t){return Math.atan2(t[1],t[0])},function(t){return t[2]},function(t){return[Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),Math.atan2(t[1],t[0]),t[2]]}],origin:{x:0,y:"height"}},polar:{layer:2,vars:["rho","phi","z"],cartesian:[function(t){return t[0]*Math.cos(t[1]*(Math.PI/180))},function(t){return t[0]*Math.sin(t[1]*(Math.PI/180))},function(t){return t[2]}],origin:{x:"width/2",y:"height/2"}},spherical:{layer:2,vars:["rho","phi","theta"]}};a.mixins.system={system:function(t){return this.prop("system",t)}},a.mixins.units={units:function(t){return this.prop("units",t)}},a.mixins.size={width:function(t){return this.prop("width",s(t))},height:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return this.prop("height",s(t))}),size:function(t,n){return this.prop({width:s(t),height:s(n)})}},a.mixins.move={move:function(){for(var t={},n=0;n<arguments.length;n++)t[f[this.prop("system")].vars[n]]=s(arguments[n]);return this.prop(t)}},a.mixins.radius={rx:function(t){return this.prop("rx",s(t))},ry:function(t){return this.prop("ry",s(t))},radius:function(t,n){return this.prop({rx:s(t),ry:s(n)})}},a.mixins.transform={transform:function(t){for(var n in t)t[n]=null==t[n]?t[n]:this.prop(n)+t[n];return this.prop(t)}},a.mixins.transforms={require:["transform"],translate:function(t,n){return this.transform({x:t,y:n})},scale:function(t,n,e,r){},rotate:function(t,n,e){},skew:function(t,n,e,r){}},a.mixins.json={stringify:function(t){return JSON.stringify(this,t,2)}},a.Element=function(){function t(){r(this,t),this.dom={},this.dom.node=document.createElement("object"),this.dom.node.element=this,this.properties={},this.prop("type",o(this))}return p(t,[{key:"prop",value:function(t,n){if(null==t){t={};for(var r in this.properties)t[r]=this.properties[r];return t}if("object"==("undefined"==typeof t?"undefined":e(t))){var i=!1;for(var r in t)t[r]=this.prop(r,t[r]),i|="object"==e(t[r]);return i?this:t}if(null===n)delete this.properties[t];else{if(void 0===n)return this.properties[t]||this.prop(t,f[t]||0);String(n).endsWith("_u")&&(n=n.slice(0,-2),n=isFinite(n)?n+this.parent.prop("units")||f.units:n),this.properties[t]=n;var o=new CustomEvent("update",{detail:{type:this.properties.type,prop:t,val:n},bubbles:!0});this.dom.node.dispatchEvent(o)}return this}}],[{key:"inherit",value:function(t,n){a.inherit(this,t,n)}},{key:"mixin",value:function(t){a.mixin(this,t)}},{key:"require",value:function(t){if("string"==typeof t)this.mixin(a.mixins[t]);else if(t instanceof Array){var n=!0,e=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var u=i.value;this.require(u)}}catch(s){e=!0,r=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(e)throw r}}}}}]),t}(),a.Element.require(["size","move"]),a.Container=function(e){function i(n){r(this,i);var e=t(this,Object.getPrototypeOf(i).call(this));return e.prop("name",n||null),e.children=[],e}return n(i,e),p(i,[{key:"push",value:function(t){t.parent=this,t.doc=this.doc||this,this.dom.node.appendChild(t.dom.node);var n=t.prop("type");return t.doc.elements[n]=t.doc.elements[n]||[],t.doc.elements[n].push(t),t.prop("id",u(t)),this.children.push(t),this}},{key:"add",value:function(t){return this.push(t),t}}]),i}(a.Element),a.Doc=function(e){function i(n){r(this,i);var e=t(this,Object.getPrototypeOf(i).call(this,n));return e.elements={},e.prop({system:f.system,units:f.units}),e}return n(i,e),i}(a.Container),a.doc=function(t){return new a.Doc(t)},a.Group=function(e){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return n(i,e),i}(a.Container),a.Group.require(["system","units"]),a.Container.mixin({group:function(){return this.add(new a.Group(name)).prop({system:this.prop("system"),units:this.prop("units")})}}),a.Page=function(e){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return n(i,e),p(i,[{key:"origin",value:function(t,n){return this.prop({"origin.x":a.px(t),"origin.y":a.px(n)})}}]),i}(a.Group),a.Doc.mixin({page:function(t){return this.add(new a.Page(t)).prop({system:this.prop("system"),units:this.prop("units")})}}),a.Line=function(e){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return n(i,e),i}(a.Element),a.Container.mixin({line:function(t,n,e,r){return this.add(new a.Line)}}),a.Rect=function(e){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return n(i,e),p(i,[{key:"rekt",get:function(){return Math.floor(101*Math.random())+"% rekt"}}]),i}(a.Element),a.Rect.require("radius"),a.Container.mixin({rect:function(t,n){return this.add(new a.Rect).size(t,n)}}),a.Circle=function(e){function i(){return r(this,i),t(this,Object.getPrototypeOf(i).apply(this,arguments))}return n(i,e),p(i,[{key:"radius",value:function(t){return this.prop("r",s(t))}}]),i}(a.Element),a.Container.mixin({circle:function(t){return this.add(new a.Circle).radius(t)}})});
//# sourceMappingURL=draft.min.js.map
