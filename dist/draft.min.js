/*draft.js v0.0.0 | https://github.com/D1SC0tech/draft.js | MIT license*/
"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t.document?e(t,t.document):function(t){return e(t,t.document)}:t.draft=e(t,t.document)}("undefined"!=typeof window?window:void 0,function(t,e){function n(t){return null==t?t:t+"_u"}var r=function i(t){return i.doc(t)};return r.defaults={system:"cartesian",units:"px",get dpi(){var t=e.createElement("div");t.style.width="1in",t.style.padding=0,e.getElementsByTagName("body")[0].appendChild(t);var n=t.offsetWidth;return e.getElementsByTagName("body")[0].removeChild(t),n||96}},r.mixins={},r.px=function(t){t=String(t);var e=parseFloat(t,10),n=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/g,i=null===n.exec(t)?!1:t.slice(n.lastIndex)||"px";switch(i){case"px":return e;case"pc":e*=12;case"pt":e/=72;break;case"km":e*=1e3;case"m":e*=10;case"dm":e*=10;case"cm":e*=10;case"mm":e/=25.4;break;case"mi":e*=1760;case"yd":e*=3;case"ft":e*=12;case"in":break;default:return}return e*r.defaults.dpi},r.inherit=function(t,e,n){var r=t.prototype=Object.create(e.prototype);r.constructor=t,(n||"undefined"==typeof n)&&(t._super=e.prototype)},r.mixin=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.prototype[n]=e[n])},r.mixins.event={on:function(t,e){var n=this.getListeners(t,!0);for(var r in n){var i=n[r];i.map(function(t){return t.listener}).includes(e)||i.push("object"===("undefined"==typeof e?"undefined":_typeof(e))?e:{listener:e,once:!1})}return this},once:function(t,e){return this.on(t,{listener:e,once:!0})},off:function(t,e){var n=this.getListeners(t,!0);for(var r in n){var i=n[r],s=i.map(function(t){return t.listener}).lastIndexOf(e);-1!==s&&i.splice(s,1)}return this},fire:function(t,e){Array.isArray(e)||(e=[e]);var n=this.getListeners(t,!0);for(var r in n){var i=n[r],s=i.length;for(s>0&&console.info(this.domID+" "+r+":",e);s--;){var o=i[s],u=o.listener.apply({target:this,timeStamp:Date(),type:r},e);(o.once===!0||"off"===u)&&this.off(t,o.listener)}}return this},defineEvent:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=!0,i=!1,s=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var a=o.value;this.getListeners(a)}}catch(c){i=!0,s=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw s}}return this},removeEvent:function(t){var e=this._getEvents();if("string"==typeof t)delete e[t];else if(t instanceof RegExp)for(var n in e)t.test(n)&&delete e[n];else delete this._events;return this},getListeners:function(t,e){var n=this._getEvents(),r={};if(t instanceof RegExp)for(var i in n)t.test(i)&&(r[i]=n[i]);else{var s=n[t]||(n[t]=[]);void 0===e?r=s:r[t]=s}return r},_getEvents:function(){return this._events||(this._events={})}},r.mixins.system={system:function(t){return this.prop("system",t)}},r.mixins.units={units:function(t){return this.prop("units",t)}},r.mixins.position={position:function(t,e,r){return this.prop({x:n(t),y:n(e),z:n(r)})},pos:function(){return this.position.apply(this,arguments)},translate:function(t,e,n){return t=this.prop("x")+t||0,e=this.prop("y")+e||0,n=this.prop("z")+n||0,this.position(t,e,n)}},r.mixins.rotation={rotation:function(t,e,n){return this.prop({"α":t,"β":e,"γ":n})},rot:function(){return this.rotation.apply(this,arguments)},rotate:function(t,e,n){return t=this.prop("α")+t||0,e=this.prop("β")+e||0,n=this.prop("γ")+n||0,this.position(t,e,n)}},r.mixins.size={size:function(t,e){return this.prop({width:n(t),height:n(e)})},width:function(t){return r.px(this.prop("width",n(t)))},height:function(t){return r.px(this.prop("height",n(t)))}},r.mixins.radius={rx:function(t){return this.prop("rx",n(t))},ry:function(t){return this.prop("ry",n(t))},radius:function(t,e){return this.prop({rx:n(t),ry:n(e)})}},r.Element=function(){function t(e){_classCallCheck(this,t),this._properties={},e&&this.prop("name",e);for(var n in r)if(this.constructor===r[n]){this._type=n.toLowerCase();break}}return _createClass(t,[{key:"prop",value:function(t,e){if(null===t)this._properties={};else{if(void 0===t)return Object(this._properties);if("object"==("undefined"==typeof t?"undefined":_typeof(t))){var n=!1;for(var i in t)t[i]=this.prop(i,t[i]),n=n||"object"==_typeof(t[i]);return n?this:t}if(null===e)this.fire("change",[t,e]),delete this._properties[t];else{if(void 0===e)return void 0===this._properties[t]&&this.prop(t,r.defaults[t]||0),this._properties[t];String(e).endsWith("_u")&&(e=e.slice(0,-2),e=isFinite(e)?e+this.parent.prop("units")||r.defaults.units:e),this._properties[t]=e,this.fire("change",[t,e])}}return this}},{key:"stringify",value:function(t){var e;return Array.isArray(t)?e=function(e,n){return t.includes(e)?void 0:n}:t instanceof RegExp&&(e=function(e,n){return t.test(e)?void 0:n}),JSON.stringify(this,e,2)}},{key:"toJSON",value:function(){return{type:this.type,id:this.id,properties:this.prop(),children:this.children}}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this.prop("name")}},{key:"domID",get:function(){for(var t=String(this.id);t.length<4;)t="0"+t;return this.type+"_"+t}}],[{key:"inherit",value:function(t,e){r.inherit(this,t,e)}},{key:"mixin",value:function(t){r.mixin(this,t)}},{key:"require",value:function(t){if("string"==typeof t)this.mixin(r.mixins[t]);else if(Array.isArray(t)){var e=!0,n=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(e=(s=o.next()).done);e=!0){var u=s.value;this.require(u)}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}}}}]),t}(),r.Element.require(["event","position","rotation"]),r.Container=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return n.children=[],n}return _inherits(e,t),_createClass(e,[{key:"add",value:function(t){t.parent=this,t.doc=this.doc||this;var e=t.type;return(t.doc.elements[e]||(t.doc.elements[e]=[])).push(t),t._id=t.doc.elements[e].length,this.children.push(t),this.fire("add",[t]),this}},{key:"push",value:function(t){return this.add(t),t}},{key:"remove",value:function(t){return this.fire("remove",[t]),this}},{key:"firstChild",get:function(){return this.children[0]}},{key:"lastChild",get:function(){return this.children[this.children.length-1]}}]),e}(r.Element),r.Doc=function(t){function e(t){_classCallCheck(this,e);var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,t));return n.elements={},n.prop({system:r.defaults.system,units:r.defaults.units}),n}return _inherits(e,t),e}(r.Container),r.doc=function(t){var e=new r.Doc(t);return(r.docs||(r.docs=[])).push(e),e._id=r.docs.length,e},r.Group=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(r.Container),r.Group.require(["system","units"]),r.Container.mixin({group:function(t){return this.push(new r.Group(t)).prop({system:this.prop("system"),units:this.prop("units")})}}),r.View=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"maxWidth",get:function(){return r.px(this.prop("maxWidth"))}},{key:"maxHeight",get:function(){return r.px(this.prop("maxHeight"))}},{key:"aspectRatio",get:function(){var t=function(e,n){return n?t(n,e%n):e};return t=t(this.width(),this.height()),this.width()/t+":"+this.height()/t}}]),e}(r.Element),r.View.require("size"),r.Group.mixin({view:function(t,e){return this.push(new r.View).size(t,e)}}),r.Line=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"length",value:function(t){return this.prop("length",n(t))}}]),e}(r.Element),r.Group.mixin({line:function(t){return this.push(new r.Line).length(t)}}),r.Rect=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"rekt",get:function(){return Math.floor(101*Math.random())+"% rekt"}}]),e}(r.Element),r.Rect.require(["size","radius"]),r.Group.mixin({rect:function(){var t=arguments.length<=0||void 0===arguments[0]?100:arguments[0],e=arguments.length<=1||void 0===arguments[1]?100:arguments[1];return this.push(new r.Rect).size(t,e)}}),r.Circle=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"radius",value:function(t){return this.prop("r",n(t))}}]),e}(r.Element),r.Group.mixin({circle:function(){var t=arguments.length<=0||void 0===arguments[0]?50:arguments[0];return this.push(new r.Circle).radius(t)}}),r});
//# sourceMappingURL=draft.min.js.map
