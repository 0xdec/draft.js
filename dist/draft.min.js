/*draft.js v0.0.0 GPL-3.0*/"use strict";function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t,t.document)}):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t.document?e(t,t.document):function(t){return e(t,t.document)}:t.Draft=e(t,t.document)}("undefined"!=typeof window?window:void 0,function(t,e){function r(t,e){for(var r=""+t;r.length<e;)r="0"+r;return r}function n(t){return"doc"==i(t.parent)?t.parent:n(t.parent)}function i(t){for(var e in p)if(t.constructor==p[e])return e.toLowerCase()}function o(t){return n(t).elements[i(t)].length}function u(t){return"DraftJS_"+t.properties.type+"_"+r(t.properties.id,4)}function s(t){t.dom&&t.dom.tree&&t.updateTree(),t.parent&&s(t.parent)}var p=this.Draft=function(t){return new p.Doc(t)};return p.id=0,p.extend=function(t,e){for(var r in e)"function"==typeof e[r]?t.prototype[r]=e[r]:"require"==r&&e[r].forEach(function(e){p.extend(t,e)});return e},p.create=function(t){var e="function"==typeof t.construct?t.construct:function(t){this.prop({name:t||null})};return t.inherit&&(e.prototype=Object.create(t.inherit.prototype),e.prototype.constructor=e),t.require&&t.require.forEach(function(t){p.extend(e,t)}),t.methods&&p.extend(e,t.methods),t.init&&p.extend(t.parent||p.Container,t.init),e},p.defaults={system:"cartesian",units:"px",cartesian:{layer:1,vars:["x","y","z"],web:[function(t){return t[0]},function(t){return height-t[1]},function(t){return t[2]},function(t){return[t[0],height-t[1],t[2]]}],polar:[function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},function(t){return Math.atan2(t[1],t[0])},function(t){return t[2]},function(t){return[Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),Math.atan2(t[1],t[0]),t[2]]}],origin:{x:0,y:"height"}},polar:{layer:2,vars:["rho","phi","z"],cartesian:[function(t){return t[0]*Math.cos(t[1]*(Math.PI/180))},function(t){return t[0]*Math.sin(t[1]*(Math.PI/180))},function(t){return t[2]}],origin:{x:"width/2",y:"height/2"}},spherical:{layer:2,vars:["rho","phi","theta"]}},p.json={stringify:function(t){return JSON.stringify(this,t,2)}},p.tree={require:[p.json],createTree:function(){var t=e.createElement("div");t.className="element-tree";var r=e.createElement("pre");return t.appendChild(r),this.dom=this.dom||{},this.dom.tree=t,this.updateTree()},updateTree:function(){var t=function(t,e){if("dom"!=t&&"parent"!=t&&"id"!=t&&"type"!=t){if("children"==t){var r={};return e.forEach(function(t){r[u(t)]=t}),r}return e}},e=this.stringify(t).split('"').join("");this.dom.tree.firstChild.textContent=u(this)+": "+e;var r=e.split("\n").reduce(function(t,e){return t.length>e.length?t:e});return this.dom.tree.style.width=Math.min(r.length+4,84)+"ch",this.dom.tree}},p.prop={prop:function(t,e){if(this.properties=this.properties||{},null==t){t={};for(var r in this.properties)t[r]=this.properties[r];return t}if("object"===("undefined"==typeof t?"undefined":_typeof(t))){var n=!1;for(var r in t)t[r]=this.prop(r,t[r]),n|="object"===_typeof(t[r]);return n?this:t}if(null===e)delete this.properties[t];else{if(void 0===e)return this.properties[t]||this.prop(t,p.defaults[t]||0);this.properties[t]=e}return s(this),this}},p.system={require:[p.prop],system:function(t){return this.prop("system",t)}},p.units={require:[p.prop],units:function(t){return this.prop("units",t)}},p.size={require:[p.prop],width:function(t){return this.prop("width",t)},height:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return this.prop("height",t)}),size:function(t,e){return this.prop({width:t,height:e})}},p.move={require:[p.prop],move:function(){for(var t={},e=0;e<arguments.length;e++)t[p.defaults[this.prop("system")].vars[e]]=arguments[e];return this.prop(t)}},p.radius={require:[p.prop],rx:function(t){return this.prop("rx",t)},ry:function(t){return this.prop("ry",t)},radius:function(t,e){return this.prop({rx:t,ry:e})}},p.transform={require:[p.prop],transform:function(t){for(var e in t)t[e]=null==t[e]?t[e]:this.prop(e)+t[e];return this.prop(t)}},p.transforms={require:[p.transform],translate:function(t,e){return this.transform({x:t,y:e})},scale:function(t,e,r,n){},rotate:function(t,e,r){},skew:function(t,e,r,n){}},p.Container=p.create({require:[p.prop,p.tree],methods:{parent:function(){return this.parent},child:function(t){return this.children[t]},push:function(t){t.parent=this,this.children=this.children||[],this.children.push(t);var e=n(t),r=i(t);return e.elements=e.elements||{},e.elements[r]=e.elements[r]||[],e.elements[r].push(t),t.prop({type:r,id:o(t)}),t},add:function(t){return this.push(t)}}}),p.Doc=p.create({construct:function(t){t&&(this.dom="string"==typeof t?e.getElementById(t):t)},inherit:p.Container}),p.Group=p.create({inherit:p.Container,require:[p.system,p.units],init:{group:function(t){return this.add(new p.Group(t)).prop({system:this.system(),units:this.units()}).move(0,0)}}}),p.Page=p.create({inherit:p.Group,require:[p.size],methods:{origin:function(t,e){return this.prop({"origin.x":t,"origin.y":e})}},init:{page:function(t){return this.add(new p.Page(t)).prop({system:p.defaults.system,units:p.defaults.units})}},parent:p.Doc}),p.Element=p.create({require:[p.size,p.move],methods:{parent:function(){return this.parent}}}),p.Line=p.create({inherit:p.Element,methods:{},init:{line:function(t,e,r,n){return this.add(new p.Line)}}}),p.Rect=p.create({inherit:p.Element,require:[p.radius],methods:{getRekt:function(){return this.prop()}},init:{rect:function(t,e){return this.add(new p.Rect).size(t,e)}}}),p.Circle=p.create({inherit:p.Element,require:[],methods:{radius:function(t){return this.prop("r",t)}},init:{circle:function(t){return this.add(new p.Circle).radius(t)}}}),p});